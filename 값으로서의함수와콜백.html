
<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8"/>
	</head>
	<body>
	</body> 
		<script>

			a={b:function(){return 1;}} // 함수를 값으로 사용

			function cal(func, num){ // 함수의 값 전달
				return func(num);
			}

			function increase(num){
				return num+1;
			}

			function dcrease(num){
				return num-1;
			}


			alert(cal(increase, 1));
			alert(cal(dcrease, 1));

			function cal(mode){
		    var funcs = {
		        'plus' : function(left, right){return left + right},
		        'minus' : function(left, right){return left - right}
		    }
		    return funcs[mode];
			}
			alert(cal('plus')(2,1));
			alert(cal('minus')(2,1));   

			var process = [
		    function(input){ return input + 10;},
		    function(input){ return input * input;},
		    function(input){ return input / 2;}
			];
			var input = 1;
			for(var i = 0; i < process.length; i++){
			    input = process[i](input);
			}
			alert(input);

			// 콜백은 어떤 함수의 매개변수가 함수인 경우

			var numbers = [20,10,5,8,4,7,8,6,4,5,5,5];
			console.log(numbers.sort()); // 숫자를 비교하는게 아닌 문자를 비교하는 방식으로 우리가 원하는 것이 아님

			// 숫자의 순서로 정렬을 해보자 (콜백)
			
			var numbers = [20,10,5,8,4,7,8,6,4,5,5,5];
			var sortfunc = function(a, b){
				console.log(a, b);
				/* if(a>b){
					return 1;
				}else if(a<b){
					return -1;
				}else{
					return 0;
				} */
				return a-b; // sortfunc를 콜백함수라고 함 -> number.sort가 sortfunc를 전달받아서 sort를 제어할 수 있다
			}
			console.log(numbers.sort(sortfunc)); // sort 메서드 특성상 숫자 2개를 비교함 이때 1, -1, 0에 따라 숫자가 크거나 작고 같음을 구분함
			// 기본적으로 Sort 메서드는 숫자를 비교하는게아닌 값을 비교하기 떄문에 sort 함수의 매개변수에 sortfunc를 주어 직접 리턴값을 조작해야 숫자를 비교함

		
			/*
			sort(){
				if(number.i<number.j){
					number.j = temp;
					number.j = i;
					number i = temp
				}
			}

			sort(func()){
				if(func()==1){
					number.j = temp;
					number.j = i;
					number i = temp
				}
			} 아마 솔트 함수는 이런식으로 생기지 않았을까..??*/

			function plus(a, b, callback) {
			  var sum = a + b;
			  callback(sum);
			}

			function print(result) {  // 콜백 함수로 사용할 함수 정의
			  console.log(result);
			}                         

			plus(1, 2, print);
			console.log("1334578")

			var clientData = { id: 094545, fullName: "Not Set", // setUserName clientData의 메서드입니다. 
			setUserName: function (firstName, lastName) { // this는 clientData라는 객체를 지칭하고 있습니다. 
			this.fullName = firstName + " " + lastName; } } 
			function getUserInput(firstName, lastName, callback ) { 
			// Do other stuff to validate firstName/lastName here 
			// Now save the names 
			callback (firstName, lastName); } 
			getUserInput ("Barack", "Obama", clientData.setUserName); 
			console.log (clientData.fullName);
			// 값에 설정되지 않음 
			// fullName 프로퍼티가 window object의 인자로 세팅됨 
			console.log (window.fullName); 
			// Barack Obama


		</script>
	</body>

</html>